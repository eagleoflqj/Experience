# 文本
## cat 输出内容
```sh
cat [选项] [文件1 ...]
```
选项|意义
-|-
-A|等价于-vET
-E|行尾追加$
-n|显示行号
-T|\t用^I代替
-v|显示特殊字符，如\r用^M代替
* 文件默认标准输入
### 合并split生成的文件
```sh
cat 前缀* >文件
```
## cmp 逐字节比较文件
```sh
cmp [-l] 文件1 文件2
```
* `-l`：输出全部字节差异，否则只输出第一处
## col ASCII行处理工具
```sh
col [选项]
```
选项|意义
-|-
-b|`\b`不保留被取代的字符
-x|`\t`转对应数量的空格
* 从标准输入读取，写入标准输出
## cut 行剪切
```sh
cut [-b|-c] [文件1 ...]
cut [-f -d] [文件1 ...]
```
选项|意义
-|-
-b 范围|指定字节范围（`1-2,3,4-`形式，下同），从1开始
-c 范围|指定字符范围，从1开始
-d 分隔符|指定分隔符
-f 范围|指定切分出的部分，从1开始，多个部分用分隔符连接后输出
* 文件中连续的分隔符将切分出空串
## dd 字节复制
```sh
dd [参数]
```
参数|意义
-|-
if=文件|指定输入文件，否则为stdin
of=文件|指定输出文件，否则为stdout
bs=大小|指定一次读取写入量（K同KiB，KB为十进制），否则为512字节
count=个数|指定复制的块个数
conv=选项|指定转换方式，`,`分隔
* 输出的`a+b`表示`a`个完整和`b`个不完整`bs`

选项|意义
-|-
notrunc|不截短已有的输出文件
### 制作启动盘
```sh
dd if=iso文件 of=/dev/sd? bs=4M
```
## diff 比较文件差异
```sh
diff [选项] 参数1 参数2
```
选项|意义
-|-
-a|二进制文件按文本处理
-b|忽略连续空白字符数差异
-B|忽略空白行
-i|忽略大小写
-N|视不存在的文件为空文件（允许patch新建/删除）
-r|递归子目录
-u|输出3行上下文
* 若一个参数是文件，另一个参数可为`-`（标准输入）
* 若参数为一个文件和一个目录，则比较目录下同名文件
* 若两个参数均为目录，则比较目录下的文件名和同名文件
## dos2unix/unix2dos CRLF/LF互转
```sh
dos2unix/unix2dos [选项] 文件 [...]
```
选项|意义
-|-
-k|保留时间戳
-n|保留文件，文件后的参数为新文件
## expand `\t`转空格
```sh
expand [-t 数字] [文件]
```
* `-t`指定分组长度，默认8
* 写入标准输出，文件不存在或`-`为标准输入
## file 查看文件类型
```sh
file [选项] 文件
```
选项|意义
-|-
-i|输出MIME类型
-L|符号链接解引用
## grep 查找符合条件的行
```sh
grep [选项] 正则表达式 文件
```
选项|意义
-|-
-a|二进制文件按文本处理
-A\|B 行数|同时输出匹配行后/前的多行，多个结果间插入`--`行
-c|只显示匹配行数
-E|扩展正则表达式，同`egrep`
-i|忽略大小写
-l|只显示文件名
-n|显示行号
-r|递归查找
-v|选择不匹配的行
--color=always\|auto\|never|控制颜色
* GNU grep的基础和扩展正则表达式表达能力相同
* 基础正则表达式的`?`、`+`、`{`、`|`、`(`、`)`是普通字符，作为特殊字符需要用`\`转义
* 扩展正则表达式上述字符是特殊字符，作为普通字符需要用`\`转义
## hd 查看字节及ASCII
```sh
hd [选项] 文件
```
选项|意义
-|-
-n 字节数|显示指定字节数
-s 字节数|跳过指定字节数
## head 查看文件头部
```sh
head [选项] 文件
```
选项|意义
-|-
-c 字节数|显示前几字节
-c -字节数|不显示后几字节
-行数或-n 行数|显示前几行，默认10
-n -行数|不显示最后几行
## iconv 编码转换
```sh
iconv [选项] [文件]
iconv -l
```
选项|意义
-|-
-f 编码|指定输入编码，默认当前locale
-t 编码|指定输出编码，默认当前locale
-o 文件|指定输出文件，默认标准输出
-l|列出支持的编码
* 文件默认标准输入
### UTF-8下简体转繁体
```sh
iconv -t gb2312 简体文件 | iconv -f gb2312 -t big5 | iconv -f big5 -o 繁体文件
```
* GB2312只含简体字，BIG-5只含繁体字，可以对应转换
* GBK兼容GB2312，繁体字部分和BIG-5对应，简体字无法转换为BIG-5
## join 关系型内连接
```sh
join [选项] 文件1 [文件2]
```
选项|意义
-|-
-1或-2 数字|指定第1/2个文件用第几个字段，从1开始
-i|忽略大小写
-t 分隔符|指定分隔符

* 默认以空白字符串分隔，第1个字段相同则连接，要求字段排序
* 相同的公共字段为结果第一个字段，其他字段按在文件中出现的顺序列出
* 写入标准输出，文件2不存在则为标准输入
## less 高级翻页查看
```sh
less [选项] 文件1 [... 文件n]
```
选项|意义
-|-
-m|显示百分比
-N|显示行号

按键|意义
-|-
b|后退1屏
f|前进1屏
Enter或j|前进1行
k|后退1行
g|到第1行
G|到最后1行
/字符串|向前查找字符串
?字符串|向后查找字符串
n|下一个
N|上一个
:p|切换到下一个文件
:n|切换到上一个文件
:x|切换到第1个文件
:d|从列表移除当前文件
## md5sum 检查md5
```sh
md5sum [选项] [文件]
```
选项|意义
-|-
-c 文件|从文件中读取md5和文件名并校验

* `-c`指定的文件每行为`md5 文件名`
## more 翻页查看
```sh
more [选项] 文件
```
选项|意义
-|-
+行数|从第几行开始显示
+/字符串|从第一次匹配到字符串的前2行开始显示

按键|意义
-|-
Enter|前进1行
Space|前进1屏
b|后退1屏
=|输出当前行号
:f|输出文件名和当前行号
q|退出
## nano 编辑文件
```sh
nano [文件]
```
快捷键|意义
-|-
Ctrl+C|显示当前行列
Ctrl+O|保存
Ctrl+R|打开
Ctrl+W|查找
Ctrl+X|退出
## nl 带行号显示文件
```sh
nl [选项] 文件
```
选项|意义
-|-
-ba|空行也编号，默认不编号
-nln|行号左对齐，默认右对齐
-nrz|行号右对齐，左补0
-w 位数|行号占用最小位数，默认6
## od 查看字节
```sh
od [选项] [... 文件n]
```
选项|意义
-|-
-A 进制符|指定偏移量进制
-j 字节数|跳过指定字节数
-N 字节数|显示指定字节数
-t a|ASCII
-t c|可打印字符或\转义
-t 进制符\[组字节数\]|指定进制和每组字节数
-v|详细模式，重复行不用*代替
--endian=big或little|指定每组多字节时的大小端

传统选项|意义
-|-
-d|同`-t u2`
-o|同`-t o2`，默认
-x|同`-t o2`

未指定文件，则使用标准输入，Ctrl+D结尾
## paste 逐行拼接
```sh
paste [-d 分隔符] [文件1 ...]
```
* 分隔符默认`\t`
* `-`表示标准输入
## patch 用diff修改文件
```sh
diff -Naur 文件1 文件2 >补丁文件 # 补丁=文件2-文件1
patch [选项] [文件 [补丁文件]] # 文件+=补丁
```
选项|意义
-|-
-b|备份原文件为`文件1.orig`
-i 补丁文件|指定补丁文件，否则为stdin
-N|禁用`-R`，否则询问
-p 个数|删去补丁文件中文件名路径的前缀数
-R|当patch失败时假定补丁搞错了新旧文件（文件-=补丁），否则询问
* 不指定补丁文件则从标准输入读取
* 不指定文件则从补丁文件提取文件1
* 失败的补丁保存为`原文件.rej`
## pr 转换文本为打印格式
```sh
pr 文件
```
* 加入文件Modify时间、文件名、页码
* 写入标准输出，文件不存在或`-`为标准输入
## sort 排序输出内容
```sh
sort [选项] 文件1 [... 文件n]
```
选项|意义
-|-
-b|忽略行首空格
-f|忽略大小写
-k 数字|配合`-t`，指定排序依据，从1开始
-M|其他&lt;JAN<...&lt;DEC
-n|数值序，默认字典序
-r|降序，否则升序
-t 分隔符|指定分隔符，默认空白字符
-u|去重
## split 文件切分
```sh
split [选项] [文件 [前缀]]
```
选项|意义
-|-
-b 大小|指定分块大小
-l 行数|指定分块行数，默认1000
* 文件不存在或`-`为标准输入
* 前缀默认x，后面添加字母，写入当前目录
## tac 倒序输出内容
```sh
tac 文件
```
## tail 查看文件末尾
```sh
tail [选项] 文件
```
参数|意义
-|-
-f|实时监视
+行号或-n +行号|从某行开始显示
-行数或-n 行数|显示最后几行，默认10
## tee 读标准输入，写标准输出和文件
```sh
tee [选项] [文件1 ...]
```
选项|意义
-|-
-a|追加，否则覆盖
## tr 字符串转换
```sh
tr 集合1 集合2
tr -d 集合
tr -s 集合1 [集合2]
```
选项|意义
-|-
-d|删除字符
-s|合并重复字符
* 集合2为对应的替换字符集
* 从标准输入读取，写入标准输出
## truncate 调整文件大小
```sh
truncate [参数] [-s 大小 文件]
```
* 原文件较大则删去结尾，较小则补空字符，不存在则新建
* 大小默认字节数，k、m为1024幂，KB、MB为1000幂

参数|意义
-|-
-c|不新建文件
--help|显示帮助
## uniq 连续行去重
```sh
uniq [选项] [输入 [输出]]
```
选项|意义
-|-
-c|统计重复次数
-i|忽略大小写
* 输入/输出默认标准输入/输出
## wc 字数统计
```sh
wc [选项] [文件]
```
选项|意义
-|-
-c|字节数
-m|字符数，若不支持多字节字符则同`-c`
-l|换行符数
-L|最长行显示宽度
-w|空白字符分开的单词数
* 文件不指定则为stdin
* 默认-lwc
# 压缩
## bzcat/lz4cat/zcat 查看bzip2/lz4/gzip压缩的文本文件
```sh
bzcat/lz4cat/zcat 文件
```
## bzip2/gzip
```sh
bzip2/gzip [选项] 文件
```
选项|意义
-|-
无|压缩并替换，增加.bz2/.gz后缀
-c|不替换文件，输出压缩结果到标准输出
-d|解压并替换，删除.bz2/.gz后缀
-t|检查压缩文件完整性
-v|显示压缩比
-数字|-1最快，-9最小，默认-6
## lz4
```sh
lz4 [选项] 文件 [新文件]
```
* 选项类似gzip，但默认根据扩展名决定压缩/解压，且保留旧文件
