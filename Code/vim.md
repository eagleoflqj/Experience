# 命令
```sh
vim 文件1 [...]
```
# 配置
~/.vimrc
```vim
" 自动缩排
set autoindent
" 允许编辑模式使用Backspace
set backspace=indent,eol,start
" 打开文件猜测编码顺序，汉字编码顺序不能改
set fileencodings=ucs-bom,utf-8,utf-16,gbk,big5,gb18030,latin1
" 搜索高亮
set hlsearch
" 分别显示状态栏和命令栏
set laststatus=2
" 显示行号
set nu
" 显示光标位置
set ruler
" 光标不到底不滚屏
set scrolloff=0
" 显示键入的命令
set showcmd
" 显示当前模式
set showmode
" 代码高亮
syntax on
```
# Vim命令
模式切换命令|意义
-|-
i|插入模式
I|插入模式，光标移到当前行第一个非空字符
a|插入模式，光标右移
A|插入模式，光标移到当前行尾
o|插入模式，向下插入一行
O|插入模式，向上插入一行
\[`n`]ch或jkl|向左或（下上右）剪切`n`个字符/`n+1`行并切换到插入模式
r|替换模式，只替换当前字符然后回到一般模式
R|替换模式
v|可视模式，选择连续字符
V|可视模式，选择光标经过的行
Ctrl+V|可视模式，选择块
Esc|一般模式
ZZ|若无更改则退出，否则写入并退出
:|命令模式

编辑命令|意义
-|-
\[`n`]x|向右剪切`n`个字符
\[`n`]X|向左剪切`n`个字符
de|剪切到词尾
dw|剪切到下一词首
d0|剪切到行首
d$|剪切到行尾
\[`n`]dd|向下剪切`n`行
d\[`n`]G|剪切当前行到行号`n`/最后一行
上述d换成y|复制
J|剪切下一行到当前行尾
p|在当前行下粘贴行/在当前光标右侧粘贴字符
P|在当前行上粘贴行/在当前光标左侧粘贴字符
.|重复上一个操作
u|撤销
Ctrl+R|重做

查找替换命令|意义
-|-
/单词|向下查找
?单词|向上查找
n|查找下一个
N|查找上一个
:\[`m`,`n`]s/匹配/替换/\[g]\[c]|在`m`至`n`行/光标所在行执行替换，$为最后一行，g每行全部替换，c确认每次替换

光标移动命令|意义
-|-
\[`n`]h或相应箭头|左移，`n`指定字符数，jkl同
j|下移
k|上移
l|右移
0或Home|行首
$或End|行尾
+|下一行的第一个非空字符
-|上一行的第一个非空字符
`n`空格|前进`n`个字符
`n`回车|前进`n`行
H|屏幕顶部的行首（受`scrolloff`影响）
M|屏幕中央的行首
L|屏幕底部的行首
gg|第一行行首
G|最后一行行首
Ctrl+D|前进半屏
Ctrl+U|后退半屏
Ctrl+F或PgDn|前进一屏（保留两行）
Ctrl+B或PgUp|后退一屏
`n`G|跳转到行号`n`

可视模式命令|意义
-|-
d|剪切选择的部分
y|复制选择的部分

命令模式命令|意义
-|-
`n`|跳转到行号`n`
w|写入
w!|如果有能力更改权限，对只读文件强制写入
q|退出（当前窗口）
q!|不写入退出
wq|写入并退出
wq!|强制写入退出
\[`m`,`n`]w\[!] 文件|（将`m`至`n`行）（强制）写入另一文件
r 文件|将另一文件内容插入到当前行下
n|切换到下一个文件
N|切换到上一个文件
files|列出打开的文件
Ctrl+W+s或sp \[文件]|上下切分窗口打开新文件/当前文件
Ctrl+W+v或vs \[文件]|左右切分窗口打开新文件/当前文件
Ctrl+W+hjkl或方向箭|切换窗口
Ctrl+W+q|关闭当前窗口
help 命令|显示帮助
set 选项\[=值]|设置选项或查看值
set\[ all]|查看全部/与默认值不同的选项
!命令|暂时离开vim，在shell执行命令

选项|意义
-|-
background或bg|使用更适合`dark`或`light`背景的前景色
backup|保存`文件~`备份
fileencoding|用于保存的编码
